{
  "title": "Solar AC Controller",
  "config": {
    "step": {
      "user": {
        "title": "Solar AC Controller setup",
        "description": "Configure how the controller manages your AC zones based on solar production and grid usage.\n\nTip: Select zones in the order you want them activated. All settings can be adjusted later from Options.\n\nSupports cooling and heating zones (heat / cool / on).",
        "data": {
          "ac_power_sensor": "AC Power Sensor",
          "grid_sensor": "Grid Import/Export Sensor",
          "solar_sensor": "Solar Production Sensor",
          "outside_temperature_sensor": "Outside Temperature Sensor (optional)",
          "ac_switch": "Master AC Switch (optional)",
          "zones": "AC Zones (ordered)",
          "initial_learned_power": "Initial Learned Power (W)",
          "solar_threshold_on": "Solar ON Threshold (W)",
          "solar_threshold_off": "Solar OFF Threshold (W)",
          "heat_on_below": "Heat ON below (°C)",
          "heat_off_above": "Heat OFF above (°C)",
          "cool_on_above": "Cool ON above (°C)",
          "cool_off_below": "Cool OFF below (°C)",
          "band_cold_max": "Cold band max (°C)",
          "band_mild_cold_max": "Mild-cold band max (°C)",
          "band_mild_hot_max": "Mild-hot band max (°C)",
          "enable_auto_season": "Enable Auto Season Detection",
          "enable_temperature_modulation": "Enable Comfort-Based Zone Control",
          "master_off_in_neutral": "Master OFF in Neutral Season",
          "max_temp_winter": "Winter Comfort Target (°C)",
          "min_temp_summer": "Summer Comfort Target (°C)",
          "zone_temp_sensors": "Zone Temperature Sensors (optional)",
          "panic_threshold": "Panic Threshold (W)",
          "panic_delay": "Panic Delay (seconds)",
          "manual_lock_seconds": "Manual Override Lock Duration (seconds)",
          "short_cycle_on_seconds": "Short Cycle ON Protection (seconds)",
          "short_cycle_off_seconds": "Short Cycle OFF Protection (seconds)",
          "action_delay_seconds": "Action Delay (seconds)",
          "add_confidence": "Add Confidence Threshold",
          "remove_confidence": "Remove Confidence Threshold",
          "enable_diagnostics_sensor": "Diagnostics Sensor (full state)"
        },
        "data_description": {
          "ac_power_sensor": "Sensor that reports the AC unit's current power draw.",
          "grid_sensor": "Sensor showing grid import/export (negative = export).",
          "solar_sensor": "Sensor showing solar production.",
          "outside_temperature_sensor": "Optional outside temperature for auto season and banded learning.",
          "ac_switch": "Optional switch that powers the AC system. Leave empty if unmanaged.",
          "zones": "List of climate or switch entities to control. Order determines activation priority.",
          "initial_learned_power": "Starting estimate of zone power before learning.",
          "solar_threshold_on": "Solar must exceed this to enable the AC master switch.",
          "solar_threshold_off": "Solar must fall below this to disable the master switch.",
          "heat_on_below": "Auto season: enable heating when outside is below this.",
          "heat_off_above": "Auto season: stop heating when outside rises above this.",
          "cool_on_above": "Auto season: enable cooling when outside is above this.",
          "cool_off_below": "Auto season: stop cooling when outside falls below this.",
          "band_cold_max": "Outside temperature upper bound for 'cold' band.",
          "band_mild_cold_max": "Upper bound for 'mild cold' band.",
          "band_mild_hot_max": "Upper bound for 'mild hot' band.",
          "enable_auto_season": "Automatically choose heat/cool/neutral from outside temp. Requires outside temperature sensor.",
          "enable_temperature_modulation": "Requires zone temperature sensors. Blocks zone removal until comfort targets are reached (winter max/summer min).",
          "master_off_in_neutral": "When auto-season detects neither heating nor cooling is needed (neutral mode), turn off the master AC switch to save power.",
          "max_temp_winter": "Heating comfort cutoff; zones stay on until reaching this temperature in heat mode.",
          "min_temp_summer": "Cooling comfort cutoff; zones stay on until reaching this temperature in cool mode.",
          "zone_temp_sensors": "Mapping from each zone to its indoor temperature sensor. Used with temperature modulation to prevent premature zone removal.",
          "panic_threshold": "If grid import exceeds this for panic_delay seconds with multiple zones active, zones are shed sequentially.",
          "panic_delay": "Seconds of sustained high import before panic shedding begins.",
          "manual_lock_seconds": "If user manually toggles a zone via Home Assistant UI, it is locked from controller changes for this duration.",
          "short_cycle_on_seconds": "Minimum time a zone must stay ON before controller can turn it OFF (prevents rapid cycling).",
          "short_cycle_off_seconds": "Minimum time a zone must stay OFF before controller can turn it ON (prevents rapid cycling).",
          "action_delay_seconds": "Minimum delay between consecutive zone ON/OFF actions to avoid rapid sequencing.",
          "add_confidence": "Minimum confidence score needed to add a new zone. Higher = more conservative.",
          "remove_confidence": "Minimum negative confidence score needed to remove a zone. Higher = harder to remove."
        }
      }
    }
  },
  "options": {
    "step": {
      "init": {
        "title": "Solar AC Controller options",
        "description": "Adjust sensors, zones, thresholds, seasons, and safety settings.\n\nZone order determines activation priority. Panic settings protect your inverter from overload.",
        "data": {
          "ac_power_sensor": "AC Power Sensor",
          "grid_sensor": "Grid Import/Export Sensor",
          "solar_sensor": "Solar Production Sensor",
          "outside_temperature_sensor": "Outside Temperature Sensor (optional)",
          "ac_switch": "Master AC Switch (optional)",
          "zones": "AC Zones (ordered)",
          "initial_learned_power": "Initial Learned Power (W)",
          "solar_threshold_on": "Solar ON Threshold (W)",
          "solar_threshold_off": "Solar OFF Threshold (W)",
          "heat_on_below": "Heat ON below (°C)",
          "heat_off_above": "Heat OFF above (°C)",
          "cool_on_above": "Cool ON above (°C)",
          "cool_off_below": "Cool OFF below (°C)",
          "band_cold_max": "Cold band max (°C)",
          "band_mild_cold_max": "Mild-cold band max (°C)",
          "band_mild_hot_max": "Mild-hot band max (°C)",
          "enable_auto_season": "Enable Auto Season Detection",
          "enable_temperature_modulation": "Enable Comfort-Based Zone Control",
          "master_off_in_neutral": "Master OFF in Neutral Season",
          "max_temp_winter": "Winter Comfort Target (°C)",
          "min_temp_summer": "Summer Comfort Target (°C)",
          "zone_temp_sensors": "Zone Temperature Sensors (optional)",
          "panic_threshold": "Panic Threshold (W)",
          "panic_delay": "Panic Delay (seconds)",
          "manual_lock_seconds": "Manual Override Lock Duration (seconds)",
          "short_cycle_on_seconds": "Short Cycle ON Protection (seconds)",
          "short_cycle_off_seconds": "Short Cycle OFF Protection (seconds)",
          "action_delay_seconds": "Action Delay (seconds)",
          "add_confidence": "Add Confidence Threshold",
          "remove_confidence": "Remove Confidence Threshold",
          "enable_diagnostics_sensor": "Diagnostics Sensor (full state)"
        },
        "data_description": {
          "solar_threshold_on": "Solar must exceed this to enable the AC master switch.",
          "solar_threshold_off": "Solar must fall below this to disable the master switch.",
          "heat_on_below": "Auto season: enable heating when outside is below this.",
          "heat_off_above": "Auto season: stop heating when outside rises above this.",
          "cool_on_above": "Auto season: enable cooling when outside is above this.",
          "cool_off_below": "Auto season: stop cooling when outside falls below this.",
          "band_cold_max": "Outside temperature upper bound for 'cold' band.",
          "band_mild_cold_max": "Upper bound for 'mild cold' band.",
          "band_mild_hot_max": "Upper bound for 'mild hot' band.",
          "enable_auto_season": "Automatically choose heat/cool/neutral from outside temp. Requires outside temperature sensor.",
          "enable_temperature_modulation": "Requires zone temperature sensors. Blocks zone removal until comfort targets are reached (winter max/summer min).",
          "master_off_in_neutral": "When auto-season detects neither heating nor cooling is needed (neutral mode), turn off the master AC switch to save power.",
          "max_temp_winter": "Heating comfort cutoff; zones stay on until reaching this temperature in heat mode.",
          "min_temp_summer": "Cooling comfort cutoff; zones stay on until reaching this temperature in cool mode.",
          "zone_temp_sensors": "Mapping from each zone to its indoor temperature sensor. Used with temperature modulation to prevent premature zone removal.",
          "panic_threshold": "If grid import exceeds this for panic_delay seconds with multiple zones active, zones are shed sequentially.",
          "panic_delay": "Seconds of sustained high import before panic shedding begins.",
          "manual_lock_seconds": "If user manually toggles a zone via Home Assistant UI, it is locked from controller changes for this duration.",
          "short_cycle_on_seconds": "Minimum time a zone must stay ON before controller can turn it OFF (prevents rapid cycling).",
          "short_cycle_off_seconds": "Minimum time a zone must stay OFF before controller can turn it ON (prevents rapid cycling).",
          "action_delay_seconds": "Minimum delay between consecutive zone ON/OFF actions to avoid rapid sequencing.",
          "add_confidence": "Minimum confidence score needed to add a new zone. Higher = more conservative.",
          "remove_confidence": "Minimum negative confidence score needed to remove a zone. Higher = harder to remove.",
          "enable_diagnostics_sensor": "Creates a sensor exposing full state for troubleshooting."
        }
      }
    },
    "error": {
      "no_zones": "You must define at least one zone.",
      "invalid_solar_hysteresis": "Solar OFF threshold must be lower than Solar ON threshold.",
      "invalid_heat_hysteresis": "Heat OFF must be above Heat ON.",
      "invalid_cool_hysteresis": "Cool ON must be above Cool OFF.",
      "invalid_bands": "Temperature bands must increase (cold < mild cold < mild hot).",
      "panic_too_low": "Panic threshold should be safely above the Solar ON threshold."
    }
  }
}
